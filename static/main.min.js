function resetGlobals(a){}function makeMoveOnPage(a,b){var c=a[0],d=a[1],e="col"+c+d;console.log(e),console.log(b);var f=document.getElementById(e);console.log(f),f.textContent=b}function initBoardOnPage(){for(var a=document.getElementsByClassName("col"),b=0;b<a.length;b++)a[b].textContent=""}function markBox(){if(!finish){var a=document.getElementById(this.id);a.textContent?alert("This box is already filed. Try another one!"):(count++,move_t=getMoveFromBoxId(this.id),makeMove(board,move_t,"O"),makeMoveOnPage(move_t,"O"),getIsWin(board,"O")?alert("Winner is user"):9==count?alert("Draw"):makeOpponentMove())}}function getMoveFromBoxId(a){var b=parseInt(a[3]),c=parseInt(a[4]);return[b,c]}function makeOpponentMove(){count++,temp_score_move_temp=getMaxMove(board,"X"),move_t=temp_score_move_temp[1],makeMove(board,move_t,"X"),makeMoveOnPage(move_t,"X"),getIsWin(board,"X")?(alert("PC won"),finish=!0):9==count&&alert("Draw")}function initBoard(){for(var a=[],b=0;3>b;b++){for(var c=[],d=0;3>d;d++)c.push("0");a.push(c)}return a}function getIsWin(a,b){var c,d,e=null;for(c=0;3>c;c++){for(e=!0,d=0;3>d;d++)if(a[c][d]!=b){e=!1;break}if(e)return!0}for(d=0;3>d;d++){for(e=!0,c=0;3>c;c++)if(a[c][d]!=b){e=!1;break}if(e)return!0}return a[0][0]==b&&a[1][1]==b&&a[2][2]==b?!0:a[2][0]==b&&a[1][1]==b&&a[0][2]==b?!0:!1}function getCopy(a){for(var b=initBoard(),c=0;3>c;c++)for(var d=0;3>d;d++)b[c][d]=a[c][d];return b}function getMoveList(a){for(var b=[],c=0;3>c;c++)for(var d=0;3>d;d++)"0"==a[c][d]&&b.push([c,d]);return b}function makeMove(a,b,c){var d=b[0],e=b[1];a[d][e]=c}function flip(a){return"X"==a?"O":"X"}function boardIsFull(a){for(var b=0;3>b;b++)for(var c=0;3>c;c++)if("0"==a[b][c])return!1;return!0}function getMinMove(a,b){for(var c,d=getMoveList(a),e=1,f=0;f<d.length;f++){var g=d[f],h=getCopy(a);if(makeMove(h,g,b),getIsWin(h,b)){e=-1,win_move=g;break}if(boardIsFull(h))c=0;else{var i=getMaxMove(h,flip(b));c=i[0]}e>c&&(e=c)}return e}function getMaxMove(a,b){for(var c=getMoveList(a),d=null,e=-1,f=0;f<c.length;f++){var g=c[f],h=getCopy(a);if(makeMove(h,g,b),getIsWin(h,b)){e=1,d=g;break}boardIsFull(h)?score=0:score=getMinMove(h,flip(b)),score>e&&(e=score,d=g)}return[e,d]}window.onload=function(){board=initBoard(),document.getElementById("play-again").addEventListener("click",function(a){a.preventDefault(),board=initBoard(),initBoardOnPage()},!1);for(var a=document.getElementsByClassName("col"),b=0;b<a.length;b++)a[b].addEventListener("click",markBox,!1),a[b].textContent=""};